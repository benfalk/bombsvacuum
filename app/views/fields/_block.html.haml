-if block.covered?
  .block.field{'data-method' => :put, 'data-action' => :update, 'data-controller' => :locations, 'data-id' => block.id, 'data-field_id' => block.field_id, class:'covered', id:"block_#{block.id}"}
-else
  .block
    - if block.state == 'flagged'
      f
    - else
      - if block.has_mine?
        B
        :javascript
          alert('kaboom')
      - else
        -if block.mines > 0
          = block.mines
